<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>LLog</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <div class="wrap">
        <header>
            <div style="display: flex; align-items: center; gap: 15px;">
                <h1>✨ LLog</h1>
                <div class="server-controls" style="font-size: 12px;">
                    <span id="serverStatus" class="server-status" style="font-size: 12px;">🔄 检测中...</span>
                    <button id="btnCheckServer" class="btn" style="font-size: 12px; padding: 4px 8px;">🔄 检测服务</button>
                </div>
            </div>

            <div style="display: flex; gap: 8px; align-items: center">
                <input id="searchInput" placeholder="🔍 搜索（按主题或内容）" />
                <input id="fileImport" type="file" accept="application/json" style="display: none" />
                <label class="mode-btn" id="btnImportLbl" style="border: 1px solid var(--border); cursor: pointer">📥 导入
                    JSON</label>
                <label class="mode-btn" id="btnExport" style="border: 1px solid var(--border); cursor: pointer">📤 导出
                    JSON</label>
            </div>
        </header>

        <!-- 消息提示框 -->
        <div id="messageContainer"
            style="grid-column: 1/-1; position: fixed; top: 20px; left: 45%; transform: translateX(-50%); z-index: 1000; display: none;">
            <div id="messageBox" class="message-box" style="
                padding: 16px 32px;
                border-radius: var(--radius-sm);
                font-size: 14px;
                font-weight: 500;
                text-align: center;
                box-shadow: var(--shadow-lg);
                animation: fadeIn 0.3s ease-out;
                min-width: 400px;
                max-width: 600px;
                background: white;
                border: 1px solid var(--border);
            "></div>
        </div>

        <!-- left: tasks -->
        <aside class="panel left">
            <div class="list-title">📋 计划</div>
            <div id="taskList"></div>
        </aside>

        <!-- center: big editor -->
        <main class="panel center">
            <div class="mode-bar">
                <button class="mode-btn active" data-mode="add-event">
                    📅 添加事件
                </button>
                <button class="mode-btn" data-mode="add-task">✅ 添加计划</button>
                <button class="mode-btn" data-mode="add-topic">🏷️ 添加主题</button>
                <button class="mode-btn" data-mode="edit">✏️ 查看 / 编辑</button>
                <div style="flex: 1"></div>
                <div style="color: var(--muted); font-size: 13px; font-weight: 500">
                    💡 点击底部时间轴或侧边项以在此查看/编辑
                </div>
            </div>

            <div class="editor">
                <input id="itemTitle" placeholder="✏️ 标题（对事件取首行，或主题名/任务标题）" />
                <textarea id="itemBody" class="large" placeholder="📝 详情或笔记（在这里查看/编辑完整内容）"></textarea>
                <div class="meta-row">
                    <select id="bodyTopicSelect">
                        <option value="">🏷️ 关联主题（可选）</option>
                    </select>
                    <div style="flex: 1"></div>
                    <button class="btn" id="saveBtn">💾 保存</button>
                    <button class="btn ghost" id="cancelBtn">❌ 取消</button>
                </div>
            </div>
        </main>

        <!-- right: topics -->
        <aside class="panel right">
            <div style="
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
          ">
                <div class="list-title">🏷️ 主题</div>
            </div>
            <div id="topicList"></div>
        </aside>

        <!-- bottom timeline -->
        <div class="timeline-bar">
            <div class="timeline-inner">
                <div class="timeline" id="timeline"></div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>